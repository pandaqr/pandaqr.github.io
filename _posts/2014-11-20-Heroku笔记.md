---     
layout: post     
title:  "Heroku笔记"     
date:   2014-11-20 01:53:00     
categories: Ruby     
---     


Heroku 专门用于部署 Rails 和其他 Web 应用，部署 Rails 应用的过程异常简单——只要源码纳入了 Git 版本控制系统就好。     

### heroku命令行tool的安装     
`brew install heroku`     

### heroku用户登录     
`heroku login`          #会自动找到ssh的公玥上传      
`heroku keys:add`       #这是手动上传步骤，不必要     

### web应用的创建     
`heroku create`         #会自动在服务器创建一个空的应用，并为你分配应用名，      
                        #这个名字可以访问到web app的页面     
【注】当前文件夹下最好有`.git`文件，用于push     


### 应用的push     
`git push heroku master`    #我终于知道origin是什么意思了。。。     

### 在服务器端运行命令     
`heroku run 命令  `      


### 值得注意     
这个平台不支持sqlite数据库，所以，如果gemfile中用了sqlite3，需要做如下处理：     
{% highlight ruby %}     
group :development, :test do     #意思是测试一下，装不上就不要装了?     
    gem 'sqlite3'     
end     
{% endhighlight %}     


由于开发环境和生产环境不一致，还需要加以下代码：     
{% highlight ruby %}     
group :production do     
    gem 'pg',                 #这是平台支持的的数据库     
    gem 'rails_12factor'      #不造干嘛的     
end     
{% endhighlight %}     
然后，     
当我们本地搞定以后，push到服务器之后，要重新rake db:migrate一下，因为他得数据库不一样。命令如下：     
`heroku run rake db:migrate`     







