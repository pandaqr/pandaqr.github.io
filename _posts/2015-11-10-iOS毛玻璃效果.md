---     
layout: post     
title:  "iOS毛玻璃效果"     
date:   2015-11-10 18:40     
categories: IOS     
---     

自从iOS8，apple官方开放了「毛玻璃」特效的API，用起来有点奇怪。方法如下：    

1. 要使用UIView的子类`UIVisualEffectView`
2. 这个view的`backgroundColor`必须是`clearColor`，否则无效
3. 这个view的subView都会被模糊，如果只想背景模糊，其他部件需要与之平级，不要添加为它的subView！
4. 所以需要一个容器view用来存放这个view和其他部件，这个容器也应该是clearColor，注意alpha不要小于1，否则所有子view都会受影响。
5. 设置这个view的`effect`属性，值为：`[UIBlurEffect effectWithStyle:UIBlurEffectStyleLight]`。注意有light，dark，extraLight三种可选。
6. 如果觉得默认的太透明了，想要一点`白底`，请不要改变上述的颜色。正确做法是在毛玻璃特效的后面（平级）加入一个半透明的view（alpha0.3），这个view的颜色设置为乳白色或者灰色会有不错的效果。

[注意]带有毛玻璃特效的view最好不要参与动画，特效在动画中不会被渲染，只有停下来才有效果。如果有动画会一下次出现背景比较突兀。
