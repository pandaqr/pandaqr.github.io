---     
layout: post     
title:  "鼠须管配置指南"     
date:   2015-05-16 23:46:00     
categories: Tools     
---     

鼠须管是什么？鼠须管是一款开源的、跨平台的中文输入法。在windows下叫「小狼毫」。（都是古代著名的毛笔的名字）那么，弃用已经挺好用的「搜狗拼音」的理由是什么呢？1.高度可定制。2.搜狗强制收集你的打字记录。     
<a href='http://rime.im' style='color:blue'>下载链接</a>     

这款输入法的配置真是非常的用户不友好，为什么呢？所有的配置，都要编辑配置文件！你敢信？`yaml`格式的。我看了都是皱起眉头的，别说是普通用户了。     
官方文档说的也是事无巨细，看了半天不明白，网上也大都是对于界面的简单设置，而我觉得比较有特色的，「字符映射」的设置一时却没有发现。我自己看繁体的文档摸索了半个小时才搞定……现在觉得还是蛮值得的，配置好以后这个输入法的确非常高效。我把常用的特殊字符全都映射到西文上，这样我在写markdown或者中文代码注释的时候，不用频繁切换中英文。大赞！     
后记，官方文档右上角其实是可以切换到「简体」的。


#### 模式设置     
在中文输入模式下，按下组合键：`control + ~`     
里面可以设置输入方案，如「明月」「仓颉」等（区别暂不明）。     
也包含：简体中文，全角半角等。     
`特别注意：`这里选自了某个方案，就会去调用相应的配置文件。改设置的时候注意选择正确的配置文件。我刚才就是看着文档改了半天没用……后来才发现我选择了简体字的方案，改那个默认的当然没用……     

#### 界面设置     
点击`setting`可以看到一个配置文件的文件夹。里面的`squirrel.yaml`就是管界面配置的。这个写得比较直观，我做了如下改动：     
{% highlight yaml %}      
color_scheme: luna  //这个是自带的黑色theme     
horizontal: true  //已经习惯了横向候选字了     
font_point: 18  //我觉得原来默认的太大。。。     
{% endhighlight %}       

#### 字符映射     
鼠须管支持的自定义非常详细，甚至源码都给你你可以自己编译。但是我觉得对我有意义的高级自定义大概就这一个了吧。     
我选择了「明月简体」方案，主配置文件为：`luna_pinyin_simp.schema.yaml`     
里面一大堆设置，找到关于字符的：     
{% highlight yaml %}      
punctuator:     
  import_preset: default     
{% endhighlight %}       
意思是import那个名为default.yaml的文件的配置。打开这个文件，可以看到里面一大堆映射表。     
对于中文的引号，他原本在default.yaml里面是这样的：     
{% highlight yaml %}      
'[' : [ 「, 【, 〔, ［ ]     
{% endhighlight %}       
意思就是按下这个键，给你这么四个选。我不需要选，我只要直接出第一个就行，于是我自定义直接打上「符号。后面四个也是这样。但是直接改这个表好像是无效的。     

需要自定义一个`luna_pinyin_simp.custom.schema.yaml`，里面书写需要更改的「补丁」：     
{% highlight yaml %}      
patch:     
  punctuator/half_shape:     
    "[" : "「"     
    "]" : "」"     
    '\' : "、"     
    '/' : '/'      
    '~' : '~'     
{% endhighlight %}       
这部做好以后保存。再次进入`luna_pinyin_simp.schema.yaml`：     
在原来字符的后面再次增加这个配置（我不知道为什么刚刚在custom里写了，这里为什么还要重复配置，但是亲测不写不行）     
{% highlight yaml %}      
punctuator:     
  import_preset: default     
  half_shape:     
    "[" : "「"     
    "]" : "」"     
    '\' : "、"     
    '/' : '/'      
    '~' : '~'     
{% endhighlight %}       
保存，退出。然后点击菜单上面的「重新部署」。     

enjoy！     








