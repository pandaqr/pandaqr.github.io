---     
layout: post     
title:  "mac鼠标事件API"     
date:   2015-09-14 21:51     
categories: TOOLS     
---     

直接贴代码。

```cpp

#include <ApplicationServices/ApplicationServices.h>
#include <unistd.h>

#define X 950  //UI coordinate starts form top left corner
#define Y 400
// ref: http://stackoverflow.com/questions/2734117/simulating-mouse-input-programmatically-in-os-x

int main() {
    CGEventRef click1_down = CGEventCreateMouseEvent(
                                                     NULL, kCGEventLeftMouseDown,
                                                     CGPointMake(X, Y),
                                                     kCGMouseButtonLeft
                                                     );
    CGEventRef click1_up = CGEventCreateMouseEvent(
                                                   NULL, kCGEventLeftMouseUp,
                                                   CGPointMake(X, Y),
                                                   kCGMouseButtonLeft
                                                   );
    
    while (1) {
        sleep(5);
        CGEventPost(kCGHIDEventTap, click1_down);
        CGEventPost(kCGHIDEventTap, click1_up);
    }

//    CFRelease(click1_up);
//    CFRelease(click1_down);
    return 0;
}
```
