<!DOCTYPE html>
<html>
<head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Rock's personal notebook - Blogging something deserved</title>
    <meta name="description" content="Your New Jekyll Site, Blogging about stuffs" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />

    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="http://rulerstorm.github.io">
                
                    <span class="blog-title">Rock's personal notebook</span>
                 
            </a>
        </header>
        
        <span class="post-meta">
        	<time datetime="2014-11-20">20 Nov 2014</time>
        	
        		on
	        	
	        	    ruby
	        	
	        
       	</span>

        <h1 class="post-title">Heroku笔记</h1>

        <section class="post-content">
            <p>Heroku 专门用于部署 Rails 和其他 Web 应用，部署 Rails 应用的过程异常简单——只要源码纳入了 Git 版本控制系统就好。     </p>

<h3>heroku命令行tool的安装</h3>

<p><code>brew install heroku</code>     </p>

<h3>heroku用户登录</h3>

<p><code>heroku login</code>          #会自动找到ssh的公玥上传<br>
<code>heroku keys:add</code>       #这是手动上传步骤，不必要     </p>

<h3>web应用的创建</h3>

<p><code>heroku create</code>         #会自动在服务器创建一个空的应用，并为你分配应用名，<br>
                        #这个名字可以访问到web app的页面<br>
【注】当前文件夹下最好有<code>.git</code>文件，用于push     </p>

<h3>应用的push</h3>

<p><code>git push heroku master</code>    #我终于知道origin是什么意思了。。。     </p>

<h3>在服务器端运行命令</h3>

<p><code>heroku run 命令</code>      </p>

<h3>值得注意</h3>

<p>这个平台不支持sqlite数据库，所以，如果gemfile中用了sqlite3，需要做如下处理：     </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>     <span class="c1">#意思是测试一下，装不上就不要装了?     </span>
    <span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>     
<span class="k">end</span></code></pre></div>
     

<p>由于开发环境和生产环境不一致，还需要加以下代码：     </p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span>     
    <span class="n">gem</span> <span class="s1">&#39;pg&#39;</span><span class="p">,</span>                 <span class="c1">#这是平台支持的的数据库     </span>
    <span class="n">gem</span> <span class="s1">&#39;rails_12factor&#39;</span>      <span class="c1">#不造干嘛的     </span>
<span class="k">end</span></code></pre></div>
     

<p>然后，<br>
当我们本地搞定以后，push到服务器之后，要重新rake db:migrate一下，因为他得数据库不一样。命令如下：<br>
<code>heroku run rake db:migrate</code>     </p>

        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            
                <section class="author">
                	<header> <a href=""> <img class="profile" src="/assets/images/profile.png" alt="Author's profile picture"></a></header>
                	<article>
                		<!-- Author Name -->
                    	<h4> Rock Lu </h4>
                    	<!-- Author Bio -->
                    	<p> 
                    		<!-- Here goes the author description. You might want to place some links too in here -->
                    	    A newbie coder    <br>
                            Contact: &nbsp luleruler@gmail.com

                        </p>
                    </article>
                </section>                
            
        	
        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="">Rock's personal notebook</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->

</body>
</html>
